lilililili<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>베스킨라빈스 슬라이드 - 2단 내비게이션 ,이미지 슬라이드</title>
  <!--초기화 서식-->
  <link rel="stylesheet" href="./reset.css" type="text/css">
  <!--common 서식-->
  <link rel="stylesheet" href="./common.css" type="text/css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <style>
    main{
      position: relative;
      /* padding-top: 46px; */
    }
    .mslide{
      width: 100%; height: 80vh;
      /* width: 1600px; height: 697px; */
      margin: 0 auto;
      position: relative;
      overflow: hidden;
    }
    .mslide > ul{
      width: 500%;
      display: flex;
      /* margin: 0 auto; */
    }
    .mslide > ul>li{width: 100%;}
    /*반응형 이미지*/
    .mslide > ul>li img{width: 100%;}

    .mslide i.fas{color: #fff;
      padding: 22px 30px;
      border: 3px solid #fff;
      position: absolute;
      top: 43%;
      font-size: 40px;
      border-radius: 50%;
      cursor: pointer;
    }
    .mslide i.fas:hover{background: rgba(255,255,255,.3); border: 3px solid rgba(255,255,255,.3);}
    i.fa-angle-left{left: 0px;}
    i.fa-angle-right{right: 0px;}

    .control{
      z-index: 40;
      position: absolute;
      display: flex;
      bottom: 10px;
      left: 50%;
      transform: translate(-50%,-50%);
      
    }
    .control li{
      border: 1px solid #f00;
      width: 20px; height: 20px;
      /* background: #00f; */
      border-radius: 50%;
    }
    .act{
      background: #f00 !important;
    }


  </style>
</head>
<body>
  <header>
    <div class="h_top">
      <h1><a href="index.html" title="메인페이지로 이동">
        <img src="./images/logo_baskinrobbins.png" alt="로고">
      </a></h1>
    </div>

    <div class="h_bottom">
      <nav>
        <!--login, join-->
        <ul class="lnb">
            <li><a href="login.html" title="로그인">Login</a></li>
            <li><a href="join.html" title="">Join</a></li>
        </ul>
        <!--main navigation-->
        <ul class="gnb">
          <li>
            <a href="#" title="이달의 제품">flavor of the month</a>
            <ul class="sub">
              <li>
                <a href="#" title="아이스크림">
                  <img src="./images/img_monthly_fom_220930.png" alt="">
                </a>
              </li>
            </ul>
          </li>

          <li>
            <a href="#" title="메뉴">menu</a>
            <ul class="sub">
              <li><a href="#" title="아이스크림">아이스크림</a></li>
              <li><a href="#" title="아이크림케이크">아이크림케이크</a></li>
              <li><a href="#" title="음료">음료</a></li>
              <li><a href="#" title="커피">커피</a></li>
              <li><a href="#" title="디저트">디저트</a></li>
            </ul>
          </li>

          <li>
            <a href="#" title="영양성분">영양성분 및 알레르기</a>
            <ul class="sub">
              <li><a href="#" title="아이스크림">아이스크림</a></li>
              <li><a href="#" title="음료">음료</a></li>
              <li><a href="#" title="커피">커피</a></li>
            </ul>
          </li>

          <li>
            <a href="#" title="이벤트">event</a>
            <ul  class="sub">
              <li><a href="#" title="진행중인 이벤트">진행중인 이벤트</a></li>
              <li><a href="#" title="당첨자 발표">당첨자 발표</a></li>
            </ul>
          </li>

          <li>
            <a href="#" title="스토어">store</a>
            <ul class="sub">
              <li><a href="#" title="매장찾기">매장찾기</a></li>
              <li><a href="#" title="고객센터">고객센터</a></li>
              <li><a href="#" title="단체주문">단체주문</a></li>
            </ul>
          </li>

          <li>
            <a href="#" title="소개">about</a>
            <ul class="sub">
              <li><a href="#" title="공지사항">공지사항</a></li>
              <li><a href="#" title="보도자료">보도자료</a></li>
              <li><a href="#" title="채용정보">채용정보</a></li>
              <li><a href="#" title="점포설개문의">점포설개문의</a></li>
              <li><a href="#" title="contact us">contact us</a></li>
            </ul>
          </li>

        </ul>

      </nav>
    </div>
  </header>

  <main>
    <article class="mslide">
      <ul>
        <li><a href="#" title=""><img src="./images/slide01.png" alt=""></a></li>
        <li><a href="#" title=""><img src="./images/slide02.png" alt=""></a></li>
        <li><a href="#" title=""><img src="./images/slide3.jpg" alt=""></a></li>
        <li><a href="#" title=""><img src="./images/slide4.jpg" alt=""></a></li>
        <li><a href="#" title=""><img src="./images/slide5.jpg" alt=""></a></li>
      </ul>
      <i class="fas fa-angle-left"></i>
      <i class="fas fa-angle-right"></i>
      <div>
        <ul class="control">
          <li class="act">&nbsp;</li>
          <li>&nbsp;</li>
          <li>&nbsp;</li>
          <li>&nbsp;</li>
          <li>&nbsp;</li>
        </ul>
    </div>
    </article>
  </main>

  <footer>
    <address>Copyright&copy;2023 BRKOREA Company. All RIghts Reserved</address>
  </footer>

  <script src="../제이쿼리/jquery-3.7.1.min.js"></script>

  <!--자바스크립트 버전-->
  <script>
    //1. 변수선언
    const h_b = document.querySelector('.h_bottom');
    const gnb = document.querySelector('.h_bottom .gnb');

    //2. gnb에 마우스 오버시 높이가 변하면서 서브가 보이게
    // gnb.addEventListener('mouseenter',function(){
    //   h_b.style.height='325px';
    // })
    // //마우스 아웃시 높이가 원래대로 46크기로 작아짐
    // gnb.addEventListener('mouseleave',function(){
    //   h_b.style.height='46px';
    // })

  // 제이쿼리 버전
    $(document).ready(function(){

      $(gnb).hover(function(){//마우스 오버시
        $(h_b).stop().animate({'height':'336px'},300);
      },function(){//마우스 아웃시
        $(h_b).stop().animate({'height':'46px'},300);

      })


      /*메인 슬라이드 구현*/
      //변수
      let c_btn = $('.mslide >div> ul>li');
      let img_s =$('.mslide > ul')

      c_btn.click(function(){
        i = $(this).index()
        // console.log(i)

        c_btn.removeClass('act')
        c_btn.eq(i).addClass('act')

        clearInterval(Timer)
        i = $(this).index()

        if(i==0){
          $(img_s).html('<li><a href="#" title=""><img src="./images/slide5.jpg" alt=""></a></li><li><a href="#" title=""><img src="./images/slide01.png" alt=""></a></li><li><a href="#" title=""><img src="./images/slide02.png" alt=""></a></li><li><a href="#" title=""><img src="./images/slide3.jpg" alt=""></a></li><li><a href="#" title=""><img src="./images/slide4.jpg" alt=""></a></li>')
        }else if(i==1){
          $(img_s).html('<li><a href="#" title=""><img src="./images/slide01.png" alt=""></a></li><li><a href="#" title=""><img src="./images/slide02.png" alt=""></a></li><li><a href="#" title=""><img src="./images/slide3.jpg" alt=""></a></li><li><a href="#" title=""><img src="./images/slide4.jpg" alt=""></a></li><li><a href="#" title=""><img src="./images/slide5.jpg" alt=""></a></li>')
        }else if(i==2){
          $(img_s).html('<li><a href="#" title=""><img src="./images/slide02.png" alt=""></a></li><li><a href="#" title=""><img src="./images/slide3.jpg" alt=""></a></li><li><a href="#" title=""><img src="./images/slide4.jpg" alt=""></a></li><li><a href="#" title=""><img src="./images/slide01.png" alt=""></a></li><li><a href="#" title=""><img src="./images/slide5.jpg" alt=""></a></li>')
        }else if(i==3){
          $(img_s).html('<li><a href="#" title=""><img src="./images/slide3.jpg" alt=""></a></li><li><a href="#" title=""><img src="./images/slide4.jpg" alt=""></a></li><li><a href="#" title=""><img src="./images/slide5.jpg" alt=""></a></li><li><a href="#" title=""><img src="./images/slide01.png" alt=""></a></li><li><a href="#" title=""><img src="./images/slide02.png" alt=""></a></li>')
        }else{
          $(img_s).html('<li><a href="#" title=""><img src="./images/slide4.jpg" alt=""></a></li><li><a href="#" title=""><img src="./images/slide5.jpg" alt=""></a></li><li><a href="#" title=""><img src="./images/slide01.png" alt=""></a></li><li><a href="#" title=""><img src="./images/slide02.png" alt=""></a></li><li><a href="#" title=""><img src="./images/slide3.jpg" alt=""></a></li>')
        }

      })


      //1. 마지막 li태그를 첫번째 li의 앞으로 이동한다.
      $('.mslide > ul> li:last-child').insertBefore('.mslide >ul >li:first-child')

      //2.왼쪽으로 -1600px만큼 이동하여 1번이 가운데 오도록 한다.
      $('.mslide > ul').css('margin-left','-100%')

      //3.좌측으로 움직이는 함수
      function move_left(){
        //슬라이드 전체목록을 왼쪽으로 한칸 이동하고
        $('.mslide >ul').stop().animate({'margin-left':'-200%'},500, function(){
          //왼쪽 첫번째 슬라이드를 오른쪽 마지막 이미지의 뒤로 자리배치한다.
          $('.mslide >ul >li:first-child').insertAfter('.mslide> ul> li:last-child')
          $('.mslide >ul').css({'margin-left':'-100%'})//2칸 밀린 위치를 다시 오른쪽으로 다시 이동
        })
      }
      function move_right(){
        //슬라이드 전체목록을 오른쪽으로 한칸 이동하고
        $('.mslide> ul').stop().animate({'margin-left':'0px'},500, function(){
          //오른쪽 첫번째 슬라이드를 왼쪽 마지막 이미지의 뒤로 자리배치한다.
          $('.mslide >ul >li:last-child').insertBefore('.mslide >ul >li:first-child')
          $('.mslide >ul').css({'margin-left':'-100%'})//2칸 밀린 위치를 다시 오른쪽으로 다시 이동
        })
      }

      //3.우측으로 움직이는 함수
      //4.setInterval객체를 사용하여 매 4초마다 함수를 반복실행하여 슬라이드자동으로 움직이게 한다
      let Timer = setInterval(move_left,4000)

      //버튼 변수
      const l_btn = $('.mslide i.fa-angle-left')
      const r_btn = $('.mslide i.fa-angle-right')

      l_btn.click(function(){
        move_right();
        clearInterval(Timer);//기존에 자동 슬라이드를 종료
      });
      r_btn.click(function(){
        move_left();
        clearInterval(Timer);
      });
      //마우스를 빼면 다시 시간을 넣어서 자동으로 움직이게 한다.
      $('.mslide i.fas').mouseleave(function(){
        clearInterval(Timer)
        Timer= setInterval(move_left,4000)
      })

    });
  </script>



</body>
</html>